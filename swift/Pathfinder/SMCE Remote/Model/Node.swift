//
//  Node.swift
//  SMCE Remote
//
//  Created by Adam Telles on 2021-04-24.
//

import Foundation
import SwiftUI

struct NodeSnake {
    @Binding var snake: [Node]
}



struct Node: Identifiable, Hashable, Equatable {
  
    
    let id = UUID()
    let x: CGFloat
    let y: CGFloat
    let Walkable: Bool
    var visited: Bool = false
    var color: Color = Color.white
    
    
    static func ==(lhs: Node, rhs: Node) -> Bool {
        return lhs.x == rhs.x && lhs.y == rhs.y && lhs.Walkable == rhs.Walkable
    }
    
    func guessCost(to target: Node, grid: [Node]) -> [Node] {

        
        let neighbours: [Node] = self.getNeighboursCost(grid: grid)
        var path: [Node] = []
        var minDiff: Node = neighbours[0]
        
        
        for node in neighbours {
            if node.x == target.x && node.y == target.y && node.Walkable == target.Walkable {
                return [node]
            }
            else {
                minDiff = minDiffNode(new: node, old: minDiff, targetNode: target)
            }
        }
        
        
        path.append(minDiff)
        path.append(contentsOf: minDiff.guessCost(to: target, grid: grid))
        
        
        return path
    }
    
   
    
    func getNeighbours(grid: [Node]) -> [Node] {
        var neighbours: [Node] = []
        let existingNodes = grid
        let targetX: [CGFloat] = [(x - 9.75), (x + 9.75), x]
        let targetY: [CGFloat] = [(y - 9.75), (y + 9.75), y]
        
        
        for xVal in targetX {
            for yVal in targetY {
                if xVal < 0 || yVal < 131{
                    // Dont add a node
                } else {
                    
                    
                    if let foundNode = existingNodes.first(where: { $0.x == xVal && $0.y == yVal}) {
                        if foundNode.Walkable && foundNode != self && !foundNode.visited{
                            neighbours.append(foundNode)
                        } else {
                            print("Looking at a non walkable or already added")
                        }
                    } else {
                    }
                    
                    
                    
                }
            }
        }
        
        return neighbours
    }
    
    func getNeighboursCost(grid: [Node]) -> [Node] {
        var neighbours: [Node] = []
        let existingNodes = grid
        let targetX: [CGFloat] = [(x - 9.75), (x + 9.75), x]
        let targetY: [CGFloat] = [(y - 9.75), (y + 9.75), y]

        
        
        for xVal in targetX {
            for yVal in targetY {
                if xVal < 0 || yVal < 131{
                    // Dont add a node
                } else {
                    if let foundNode = existingNodes.first(where: { $0.x == xVal && $0.y == yVal }) {
                        if foundNode != self{
                            neighbours.append(foundNode)
                        } else {
                            print("Looking at a non walkable or already added")
                        }
                    }
                }
            }
        }
        
        return neighbours
    }
    
    func pathfindTo(_ target: Node, pathSoFar: [Node], grid:[Node], sizeSoFar: Int) -> [Node] {
        
        if sizeSoFar > 1000 {
            return [self]
        }
        
        let neighbours: [Node] = self.getNeighbours(grid: grid)
        var path: [Node] = []
        var minDiff: Node = neighbours[0]
        let oldMindiff = minDiff
        
        
        for node in neighbours {
            if node.x == target.x && node.y == target.y && node.Walkable == target.Walkable {
                return [node]
            }
            else if pathSoFar.contains(where: { $0.x == node.x && $0.y == node.x }) {
                
            }
            else if node.Walkable && !node.visited{
                minDiff = minDiffNode(new: node, old: minDiff, targetNode: target)
            }
        }
        
        if minDiff == oldMindiff && minDiff != Node(x: 97.5, y: 579.5, Walkable: true) {
            minDiff.color = Color.orange
            //return [minDiff]
        }
        
        minDiff.color = Color.green
        minDiff.visited = true
        path.append(minDiff)
        let newSizeSoFar = sizeSoFar + 1
        path.append(contentsOf: minDiff.pathfindTo(target, pathSoFar: path, grid: grid, sizeSoFar: newSizeSoFar))
        
        return path
    }
    
    private func minDiffNode(new: Node, old: Node, targetNode: Node) -> Node {

        let newDiffX: CGFloat = abs(targetNode.x - new.x)
        let newDiffY: CGFloat = abs(targetNode.y - new.y)
        
        let oldDiffX: CGFloat = abs(targetNode.x - old.x)
        let oldDiffY: CGFloat = abs(targetNode.y - old.y)
        
        if newDiffX + newDiffY <= oldDiffX + oldDiffY {
            return new
        } else {
            return old
        }
    }
    
    
    
    
}



struct NodeGrid {
    let unwalkableCoords: [(CGFloat, CGFloat)] = [
        (117.0,521.0),
        (126.75,521.0),
        (136.5,521.0),
        (146.25,511.25),
        (156.0,501.5),
        (165.75,491.75),
        (175.5,482.0),
        (185.25,472.25),
        (195.0,462.5),
        (204.75,452.75),
        (204.75,462.5),
        (204.75,472.25),
        (195.0,472.25),
        (214.5,443.0),
        (214.5,433.25),
        (224.25,423.5),
        (234.0,413.75),
        (234.0,404.0),
        (243.75,404.0),
        (243.75,394.25),
        (243.75,384.5),
        (243.75,374.75),
        (243.75,365.0),
        (243.75,355.25),
        (243.75,345.5),
        (243.75,335.75),
        (243.75,326.0),
        (243.75,316.25),
        (243.75,306.5),
        (253.5,306.5),
        (253.5,296.75),
        (243.75,296.75),
        (243.75,287.0),
        (243.75,277.25),
        (243.75,267.5),
        (243.75,257.75),
        (243.75,248.0),
        (243.75,238.25),
        (243.75,228.5),
        (243.75,218.75),
        (253.5,218.75),
        (243.75,209.0),
        (243.75,199.25),
        (253.5,199.25),
        (253.5,189.5),
        (243.75,189.5),
        (234.0,199.25),
        (214.5,199.25),
        (224.25,199.25),
        (204.75,209.0),
        (195.0,218.75),
        (185.25,228.5),
        (175.5,238.25),
        (175.5,248.0),
        (175.5,257.75),
        (175.5,267.5),
        (175.5,277.25),
        (175.5,287.0),
        (175.5,296.75),
        (175.5,306.5),
        (175.5,316.25),
        (175.5,326.0),
        (175.5,335.75),
        (175.5,345.5),
        (175.5,355.25),
        (175.5,365.0),
        (175.5,374.75),
        (175.5,384.5),
        (165.75,404.0),
        (165.75,394.25),
        (175.5,394.25),
        (175.5,404.0),
        (165.75,413.75),
        (156.0,423.5),
        (146.25,433.25),
        (136.5,443.0),
        (126.75,452.75),
        (117.0,462.5),
        (107.25,482.0),
        (107.25,472.25),
        (107.25,491.75),
        (107.25,501.5),
        (107.25,511.25),
        (117.0,511.25),
        (126.75,511.25),
        (136.5,511.25),
        (136.5,501.5),
        (117.0,501.5),
        (126.75,501.5),
        (126.75,491.75),
        (117.0,491.75),
        (136.5,491.75),
        (146.25,491.75),
        (146.25,501.5),
        (156.0,491.75),
        (156.0,482.0),
        (165.75,482.0),
        (146.25,482.0),
        (136.5,482.0),
        (126.75,482.0),
        (117.0,482.0),
        (117.0,472.25),
        (126.75,472.25),
        (136.5,472.25),
        (146.25,472.25),
        (156.0,472.25),
        (165.75,472.25),
        (175.5,472.25),
        (185.25,462.5),
        (175.5,462.5),
        (165.75,462.5),
        (156.0,462.5),
        (146.25,462.5),
        (136.5,462.5),
        (126.75,462.5),
        (136.5,452.75),
        (146.25,452.75),
        (156.0,452.75),
        (165.75,452.75),
        (175.5,452.75),
        (185.25,452.75),
        (195.0,452.75),
        (204.75,443.0),
        (195.0,443.0),
        (185.25,443.0),
        (175.5,443.0),
        (165.75,443.0),
        (156.0,443.0),
        (146.25,443.0),
        (156.0,433.25),
        (165.75,433.25),
        (175.5,433.25),
        (185.25,433.25),
        (195.0,433.25),
        (204.75,433.25),
        (204.75,423.5),
        (214.5,423.5),
        (195.0,423.5),
        (185.25,423.5),
        (175.5,423.5),
        (165.75,423.5),
        (175.5,413.75),
        (195.0,413.75),
        (185.25,413.75),
        (204.75,413.75),
        (214.5,413.75),
        (224.25,413.75),
        (224.25,404.0),
        (214.5,404.0),
        (204.75,404.0),
        (195.0,404.0),
        (185.25,404.0),
        (185.25,394.25),
        (195.0,394.25),
        (204.75,394.25),
        (214.5,394.25),
        (224.25,394.25),
        (234.0,394.25),
        (234.0,384.5),
        (224.25,384.5),
        (214.5,384.5),
        (204.75,384.5),
        (195.0,384.5),
        (185.25,384.5),
        (185.25,374.75),
        (195.0,374.75),
        (204.75,374.75),
        (214.5,374.75),
        (224.25,374.75),
        (234.0,374.75),
        (234.0,365.0),
        (224.25,365.0),
        (214.5,365.0),
        (204.75,365.0),
        (195.0,365.0),
        (185.25,365.0),
        (185.25,355.25),
        (195.0,355.25),
        (204.75,355.25),
        (214.5,355.25),
        (224.25,355.25),
        (234.0,355.25),
        (234.0,345.5),
        (224.25,345.5),
        (214.5,345.5),
        (204.75,345.5),
        (195.0,345.5),
        (185.25,345.5),
        (185.25,335.75),
        (195.0,335.75),
        (214.5,335.75),
        (204.75,335.75),
        (224.25,335.75),
        (234.0,335.75),
        (234.0,326.0),
        (214.5,326.0),
        (224.25,326.0),
        (204.75,326.0),
        (195.0,326.0),
        (185.25,326.0),
        (185.25,316.25),
        (195.0,316.25),
        (204.75,316.25),
        (214.5,316.25),
        (224.25,316.25),
        (234.0,316.25),
        (234.0,306.5),
        (224.25,306.5),
        (204.75,306.5),
        (195.0,306.5),
        (185.25,306.5),
        (214.5,306.5),
        (214.5,296.75),
        (204.75,296.75),
        (195.0,296.75),
        (185.25,296.75),
        (185.25,287.0),
        (195.0,287.0),
        (204.75,287.0),
        (214.5,287.0),
        (224.25,287.0),
        (224.25,296.75),
        (234.0,296.75),
        (234.0,287.0),
        (234.0,277.25),
        (224.25,277.25),
        (214.5,277.25),
        (195.0,277.25),
        (204.75,277.25),
        (185.25,277.25),
        (185.25,267.5),
        (195.0,267.5),
        (204.75,267.5),
        (214.5,267.5),
        (224.25,267.5),
        (234.0,267.5),
        (234.0,257.75),
        (224.25,257.75),
        (214.5,257.75),
        (204.75,257.75),
        (195.0,257.75),
        (185.25,257.75),
        (185.25,248.0),
        (195.0,248.0),
        (204.75,248.0),
        (214.5,248.0),
        (224.25,248.0),
        (234.0,248.0),
        (234.0,238.25),
        (224.25,238.25),
        (214.5,238.25),
        (204.75,238.25),
        (195.0,238.25),
        (185.25,238.25),
        (195.0,228.5),
        (204.75,228.5),
        (224.25,228.5),
        (234.0,228.5),
        (214.5,228.5),
        (234.0,218.75),
        (224.25,218.75),
        (214.5,218.75),
        (204.75,218.75),
        (214.5,209.0),
        (224.25,209.0),
        (234.0,209.0),
        (107.25,521.0),
        (97.5,521.0),
        (97.5,530.75),
        (107.25,530.75),
        (380.25,257.75),
        (370.5,267.5),
        (360.75,287.0),
        (360.75,277.25),
        (380.25,257.75),
        (370.5,267.5),
        (360.75,287.0),
        (360.75,277.25),
        (351.0,296.75),
        (341.25,306.5),
        (331.5,316.25),
        (321.75,306.5),
        (321.75,316.25),
        (321.75,326.0),
        (312.0,335.75),
        (331.5,306.5),
        (302.25,345.5),
        (292.5,355.25),
        (292.5,365.0),
        (292.5,374.75),
        (292.5,384.5),
        (292.5,394.25),
        (292.5,404.0),
        (292.5,413.75),
        (292.5,423.5),
        (292.5,433.25),
        (292.5,443.0),
        (302.25,452.75),
        (312.0,462.5),
        (321.75,472.25),
        (321.75,482.0),
        (321.75,491.75),
        (312.0,482.0),
        (321.75,501.5),
        (312.0,511.25),
        (302.25,521.0),
        (292.5,530.75),
        (282.75,540.5),
        (273.0,550.25),
        (263.25,560.0),
        (253.5,560.0),
        (282.75,482.0),
        (282.75,491.75),
        (253.5,569.75),
        (253.5,579.5),
        (253.5,589.25),
        (253.5,599.0),
        (253.5,608.75),
        (253.5,618.5),
        (253.5,628.25),
        (253.5,638.0),
        (253.5,647.75),
        (263.25,657.5),
        (273.0,667.25),
        (282.75,677.0),
        (292.5,686.75),
        (282.75,686.75),
        (282.75,696.5),
        (292.5,696.5),
        (292.5,706.25),
        (282.75,706.25),
        (282.75,716.0),
        (282.75,725.75),
        (282.75,735.5),
        (292.5,735.5),
        (312.0,735.5),
        (302.25,735.5),
        (321.75,735.5),
        (331.5,735.5),
        (341.25,735.5),
        (351.0,735.5),
        (360.75,735.5),
        (370.5,735.5),
        (380.25,735.5),
        (380.25,725.75),
        (370.5,725.75),
        (360.75,725.75),
        (351.0,725.75),
        (341.25,725.75),
        (331.5,725.75),
        (321.75,725.75),
        (312.0,725.75),
        (302.25,725.75),
        (292.5,725.75),
        (292.5,716.0),
        (302.25,716.0),
        (312.0,716.0),
        (321.75,716.0),
        (331.5,716.0),
        (341.25,716.0),
        (360.75,716.0),
        (370.5,716.0),
        (380.25,716.0),
        (351.0,716.0),
        (380.25,706.25),
        (370.5,706.25),
        (360.75,706.25),
        (341.25,706.25),
        (351.0,706.25),
        (331.5,706.25),
        (321.75,706.25),
        (312.0,706.25),
        (302.25,706.25),
        (302.25,696.5),
        (312.0,696.5),
        (321.75,696.5),
        (331.5,696.5),
        (341.25,696.5),
        (351.0,696.5),
        (360.75,696.5),
        (370.5,696.5),
        (380.25,696.5),
        (380.25,686.75),
        (370.5,686.75),
        (360.75,686.75),
        (351.0,686.75),
        (341.25,686.75),
        (331.5,686.75),
        (321.75,686.75),
        (312.0,686.75),
        (302.25,686.75),
        (302.25,677.0),
        (292.5,677.0),
        (312.0,677.0),
        (321.75,677.0),
        (331.5,677.0),
        (341.25,677.0),
        (351.0,677.0),
        (360.75,677.0),
        (370.5,677.0),
        (380.25,677.0),
        (380.25,667.25),
        (370.5,667.25),
        (360.75,667.25),
        (351.0,667.25),
        (341.25,667.25),
        (331.5,667.25),
        (321.75,667.25),
        (312.0,667.25),
        (302.25,667.25),
        (292.5,667.25),
        (282.75,667.25),
        (282.75,657.5),
        (273.0,657.5),
        (273.0,647.75),
        (263.25,647.75),
        (263.25,638.0),
        (282.75,638.0),
        (273.0,638.0),
        (292.5,638.0),
        (292.5,647.75),
        (292.5,657.5),
        (282.75,647.75),
        (312.0,638.0),
        (302.25,647.75),
        (302.25,657.5),
        (312.0,657.5),
        (312.0,647.75),
        (302.25,638.0),
        (321.75,638.0),
        (321.75,647.75),
        (321.75,657.5),
        (331.5,657.5),
        (341.25,657.5),
        (341.25,647.75),
        (341.25,638.0),
        (331.5,638.0),
        (331.5,647.75),
        (351.0,647.75),
        (351.0,638.0),
        (351.0,657.5),
        (360.75,657.5),
        (360.75,647.75),
        (360.75,638.0),
        (370.5,638.0),
        (370.5,647.75),
        (370.5,657.5),
        (380.25,657.5),
        (380.25,647.75),
        (380.25,638.0),
        (380.25,628.25),
        (370.5,628.25),
        (351.0,628.25),
        (360.75,628.25),
        (341.25,628.25),
        (331.5,628.25),
        (321.75,628.25),
        (312.0,628.25),
        (302.25,628.25),
        (292.5,628.25),
        (282.75,628.25),
        (273.0,628.25),
        (263.25,628.25),
        (263.25,618.5),
        (282.75,618.5),
        (292.5,618.5),
        (273.0,618.5),
        (282.75,608.75),
        (312.0,608.75),
        (341.25,618.5),
        (312.0,618.5),
        (302.25,618.5),
        (331.5,618.5),
        (321.75,618.5),
        (321.75,608.75),
        (331.5,608.75),
        (341.25,608.75),
        (351.0,608.75),
        (360.75,608.75),
        (370.5,608.75),
        (380.25,608.75),
        (380.25,618.5),
        (360.75,618.5),
        (351.0,618.5),
        (370.5,618.5),
        (380.25,599.0),
        (370.5,599.0),
        (360.75,599.0),
        (351.0,599.0),
        (341.25,599.0),
        (331.5,599.0),
        (321.75,599.0),
        (312.0,599.0),
        (302.25,608.75),
        (302.25,599.0),
        (292.5,608.75),
        (292.5,599.0),
        (263.25,599.0),
        (263.25,608.75),
        (273.0,608.75),
        (273.0,599.0),
        (282.75,599.0),
        (263.25,569.75),
        (263.25,579.5),
        (263.25,589.25),
        (273.0,560.0),
        (273.0,579.5),
        (273.0,589.25),
        (273.0,569.75),
        (282.75,550.25),
        (282.75,560.0),
        (282.75,569.75),
        (282.75,579.5),
        (282.75,589.25),
        (292.5,589.25),
        (292.5,579.5),
        (292.5,560.0),
        (292.5,569.75),
        (292.5,550.25),
        (292.5,540.5),
        (302.25,540.5),
        (302.25,550.25),
        (302.25,560.0),
        (302.25,569.75),
        (302.25,579.5),
        (302.25,589.25),
        (312.0,589.25),
        (321.75,589.25),
        (331.5,589.25),
        (341.25,589.25),
        (351.0,589.25),
        (360.75,589.25),
        (370.5,589.25),
        (380.25,589.25),
        (380.25,579.5),
        (370.5,579.5),
        (360.75,579.5),
        (351.0,579.5),
        (341.25,579.5),
        (331.5,579.5),
        (321.75,579.5),
        (312.0,579.5),
        (312.0,569.75),
        (321.75,569.75),
        (331.5,569.75),
        (341.25,569.75),
        (351.0,569.75),
        (360.75,569.75),
        (370.5,569.75),
        (380.25,569.75),
        (380.25,560.0),
        (370.5,560.0),
        (360.75,560.0),
        (351.0,560.0),
        (321.75,560.0),
        (312.0,560.0),
        (331.5,560.0),
        (341.25,560.0),
        (341.25,550.25),
        (331.5,550.25),
        (312.0,550.25),
        (321.75,550.25),
        (321.75,540.5),
        (312.0,540.5),
        (312.0,530.75),
        (302.25,530.75),
        (312.0,521.0),
        (321.75,511.25),
        (321.75,521.0),
        (321.75,530.75),
        (331.5,530.75),
        (331.5,540.5),
        (331.5,521.0),
        (331.5,511.25),
        (331.5,501.5),
        (331.5,491.75),
        (331.5,482.0),
        (331.5,472.25),
        (331.5,462.5),
        (321.75,462.5),
        (321.75,452.75),
        (312.0,452.75),
        (312.0,443.0),
        (302.25,443.0),
        (302.25,433.25),
        (302.25,423.5),
        (302.25,413.75),
        (302.25,404.0),
        (302.25,394.25),
        (302.25,384.5),
        (302.25,365.0),
        (302.25,355.25),
        (302.25,374.75),
        (312.0,433.25),
        (321.75,433.25),
        (331.5,433.25),
        (341.25,433.25),
        (360.75,433.25),
        (380.25,433.25),
        (370.5,433.25),
        (351.0,433.25),
        (351.0,443.0),
        (331.5,443.0),
        (341.25,443.0),
        (321.75,443.0),
        (331.5,452.75),
        (341.25,452.75),
        (351.0,452.75),
        (360.75,452.75),
        (360.75,443.0),
        (370.5,443.0),
        (370.5,452.75),
        (380.25,443.0),
        (380.25,452.75),
        (380.25,462.5),
        (370.5,462.5),
        (360.75,462.5),
        (351.0,462.5),
        (341.25,462.5),
        (341.25,472.25),
        (351.0,472.25),
        (360.75,472.25),
        (370.5,472.25),
        (380.25,472.25),
        (380.25,482.0),
        (370.5,482.0),
        (360.75,482.0),
        (351.0,482.0),
        (341.25,482.0),
        (341.25,491.75),
        (341.25,501.5),
        (341.25,511.25),
        (341.25,521.0),
        (341.25,530.75),
        (341.25,540.5),
        (351.0,540.5),
        (351.0,550.25),
        (360.75,550.25),
        (360.75,540.5),
        (370.5,540.5),
        (370.5,550.25),
        (380.25,550.25),
        (380.25,540.5),
        (380.25,530.75),
        (380.25,521.0),
        (380.25,511.25),
        (380.25,501.5),
        (380.25,491.75),
        (370.5,491.75),
        (360.75,491.75),
        (351.0,491.75),
        (351.0,501.5),
        (360.75,501.5),
        (370.5,501.5),
        (370.5,511.25),
        (360.75,511.25),
        (351.0,511.25),
        (351.0,521.0),
        (360.75,521.0),
        (370.5,521.0),
        (370.5,530.75),
        (360.75,530.75),
        (351.0,530.75),
        (312.0,423.5),
        (321.75,423.5),
        (331.5,423.5),
        (341.25,423.5),
        (351.0,423.5),
        (360.75,423.5),
        (370.5,423.5),
        (380.25,423.5),
        (380.25,413.75),
        (360.75,413.75),
        (351.0,413.75),
        (341.25,413.75),
        (331.5,413.75),
        (321.75,413.75),
        (312.0,413.75),
        (370.5,413.75),
        (380.25,404.0),
        (370.5,404.0),
        (360.75,404.0),
        (351.0,404.0),
        (341.25,404.0),
        (312.0,404.0),
        (321.75,404.0),
        (331.5,404.0),
        (331.5,394.25),
        (321.75,394.25),
        (312.0,394.25),
        (312.0,384.5),
        (312.0,374.75),
        (312.0,365.0),
        (312.0,355.25),
        (312.0,345.5),
        (321.75,335.75),
        (331.5,326.0),
        (341.25,326.0),
        (351.0,306.5),
        (341.25,316.25),
        (360.75,296.75),
        (370.5,287.0),
        (370.5,277.25),
        (390.0,267.5),
        (380.25,277.25),
        (380.25,267.5),
        (380.25,287.0),
        (380.25,296.75),
        (380.25,316.25),
        (380.25,306.5),
        (380.25,335.75),
        (380.25,345.5),
        (390.0,355.25),
        (380.25,384.5),
        (380.25,394.25),
        (380.25,374.75),
        (380.25,365.0),
        (380.25,355.25),
        (380.25,326.0),
        (370.5,296.75),
        (370.5,306.5),
        (370.5,326.0),
        (370.5,335.75),
        (370.5,345.5),
        (370.5,355.25),
        (370.5,365.0),
        (370.5,374.75),
        (370.5,384.5),
        (370.5,394.25),
        (360.75,394.25),
        (351.0,394.25),
        (341.25,394.25),
        (341.25,384.5),
        (321.75,384.5),
        (321.75,374.75),
        (321.75,365.0),
        (321.75,355.25),
        (321.75,345.5),
        (351.0,316.25),
        (360.75,306.5),
        (360.75,316.25),
        (370.5,316.25),
        (351.0,326.0),
        (360.75,326.0),
        (360.75,335.75),
        (360.75,345.5),
        (360.75,365.0),
        (360.75,374.75),
        (360.75,384.5),
        (360.75,355.25),
        (351.0,384.5),
        (351.0,374.75),
        (351.0,365.0),
        (351.0,355.25),
        (351.0,345.5),
        (351.0,335.75),
        (341.25,335.75),
        (331.5,335.75),
        (331.5,345.5),
        (341.25,345.5),
        (341.25,355.25),
        (331.5,355.25),
        (331.5,365.0),
        (341.25,365.0),
        (341.25,374.75),
        (331.5,374.75),
        (331.5,384.5),
        (68.25,326.0),
        (78.0,326.0),
        (87.75,316.25),
        (97.5,316.25),
        (107.25,316.25),
        (107.25,306.5),
        (107.25,296.75),
        (107.25,287.0),
        (117.0,287.0),
        (117.0,296.75),
        (126.75,287.0),
        (126.75,277.25),
        (117.0,277.25),
        (117.0,267.5),
        (126.75,267.5),
        (126.75,257.75),
        (126.75,248.0),
        (117.0,248.0),
        (117.0,257.75),
        (107.25,257.75),
        (107.25,248.0),
        (97.5,257.75),
        (97.5,267.5),
        (107.25,267.5),
        (107.25,277.25),
        (97.5,277.25),
        (97.5,287.0),
        (97.5,296.75),
        (97.5,306.5),
        (87.75,306.5),
        (78.0,306.5),
        (78.0,316.25),
        (68.25,316.25),
        (68.25,306.5),
        (68.25,296.75),
        (78.0,296.75),
        (87.75,296.75),
        (87.75,287.0),
        (78.0,287.0),
        (68.25,287.0),
        (68.25,277.25),
        (78.0,277.25),
        (87.75,277.25),
        (87.75,267.5),
        (107.25,238.25),
        (107.25,228.5),
        (107.25,218.75),
        (107.25,209.0),
        (117.0,209.0),
        (126.75,209.0),
        (136.5,209.0),
        (136.5,199.25),
        (117.0,218.75),
        (117.0,228.5),
        (126.75,218.75),
        (117.0,238.25),
        (97.5,238.25),
        (97.5,248.0),
        (97.5,228.5),
        (48.75,404.0),
        (48.75,394.25),
        (39.0,394.25),
        (39.0,404.0),
        (58.5,433.25),
        (58.5,443.0),
        (48.75,443.0),
        (48.75,433.25),
        (58.5,452.75),
        (48.75,452.75),
        (195.0,560.0),
        (195.0,569.75),
        (204.75,560.0),
        (204.75,569.75),
        (224.25,608.75),
        (234.0,608.75),
        (243.75,608.75),
        (243.75,599.0),
        (243.75,618.5),
        (234.0,618.5),
        (224.25,618.5),
        (165.75,599.0),
        (175.5,599.0),
        (175.5,589.25),
        (165.75,589.25),
        (165.75,608.75),
        (175.5,608.75),
        (78.0,628.25),
        (78.0,638.0),
        (68.25,638.0),
        (68.25,628.25),
        (331.5,160.25),
        (331.5,170.0),
        (321.75,170.0),
        (321.75,160.25),
        (380.25,150.5),
        (380.25,140.75),
        (380.25,131.0),
        (370.5,131.0),
        (370.5,140.75),
        (370.5,150.5),
        (360.75,150.5),
        (360.75,140.75),
        (360.75,131.0),
        (351.0,131.0),
        (341.25,131.0),
        (302.25,131.0),
        (273.0,131.0),
        (243.75,131.0),
        (214.5,131.0),
        (156.0,131.0),
        (126.75,131.0),
        (97.5,131.0),
        (68.25,131.0),
        (0.0,131.0),
        (0.0,140.75),
        (9.75,131.0),
        (19.5,131.0),
        (29.25,131.0),
        (39.0,131.0),
        (48.75,131.0),
        (58.5,131.0),
        (78.0,131.0),
        (87.75,131.0),
        (107.25,131.0),
        (117.0,131.0),
        (136.5,131.0),
        (146.25,131.0),
        (165.75,131.0),
        (175.5,131.0),
        (185.25,131.0),
        (195.0,131.0),
        (204.75,131.0),
        (224.25,131.0),
        (234.0,131.0),
        (253.5,131.0),
        (263.25,131.0),
        (282.75,131.0),
        (292.5,131.0),
        (312.0,131.0),
        (321.75,131.0),
        (331.5,131.0),
        (351.0,140.75),
        (351.0,150.5),
        (341.25,150.5),
        (341.25,140.75),
        (321.75,140.75),
        (331.5,150.5),
        (331.5,140.75),
        (321.75,150.5),
        (302.25,150.5),
        (302.25,140.75),
        (312.0,150.5),
        (312.0,140.75),
        (292.5,140.75),
        (292.5,150.5),
        (282.75,150.5),
        (282.75,140.75),
        (273.0,140.75),
        (273.0,150.5),
        (263.25,150.5),
        (263.25,140.75),
        (243.75,140.75),
        (253.5,140.75),
        (253.5,150.5),
        (243.75,150.5),
        (234.0,140.75),
        (234.0,150.5),
        (224.25,150.5),
        (224.25,140.75),
        (214.5,140.75),
        (214.5,150.5),
        (204.75,150.5),
        (204.75,140.75),
        (195.0,140.75),
        (195.0,150.5),
        (185.25,150.5),
        (185.25,140.75),
        (175.5,140.75),
        (175.5,150.5),
        (165.75,150.5),
        (165.75,140.75),
        (156.0,140.75),
        (156.0,150.5),
        (146.25,150.5),
        (146.25,140.75),
        (136.5,140.75),
        (136.5,150.5),
        (126.75,150.5),
        (126.75,140.75),
        (117.0,150.5),
        (117.0,140.75),
        (107.25,140.75),
        (107.25,150.5),
        (97.5,150.5),
        (97.5,140.75),
        (87.75,140.75),
        (87.75,150.5),
        (78.0,150.5),
        (78.0,140.75),
        (68.25,140.75),
        (68.25,150.5),
        (58.5,150.5),
        (58.5,140.75),
        (48.75,140.75),
        (39.0,140.75),
        (39.0,150.5),
        (48.75,150.5),
        (29.25,150.5),
        (29.25,140.75),
        (19.5,140.75),
        (19.5,150.5),
        (9.75,150.5),
        (9.75,140.75),
        (0.0,150.5),
        (0.0,160.25),
        (0.0,170.0),
        (0.0,179.75),
        (0.0,189.5),
        (0.0,199.25),
        (0.0,209.0),
        (0.0,218.75),
        (0.0,228.5),
        (0.0,238.25),
        (0.0,248.0),
        (0.0,257.75),
        (0.0,267.5),
        (0.0,277.25),
        (0.0,287.0),
        (0.0,296.75),
        (0.0,306.5),
        (0.0,316.25),
        (0.0,326.0),
        (0.0,335.75),
        (0.0,345.5),
        (0.0,355.25),
        (0.0,365.0),
        (0.0,374.75),
        (0.0,384.5),
        (0.0,404.0),
        (0.0,394.25),
        (0.0,413.75),
        (0.0,423.5),
        (0.0,433.25),
        (0.0,443.0),
        (0.0,452.75),
        (0.0,462.5),
        (0.0,472.25),
        (0.0,482.0),
        (0.0,491.75),
        (0.0,511.25),
        (0.0,501.5),
        (0.0,521.0),
        (0.0,530.75),
        (0.0,540.5),
        (0.0,550.25),
        (0.0,560.0),
        (0.0,569.75),
        (0.0,579.5),
        (0.0,589.25),
        (0.0,599.0),
        (0.0,608.75),
        (0.0,618.5),
        (0.0,628.25),
        (0.0,638.0),
        (0.0,647.75),
        (0.0,657.5),
        (0.0,667.25),
        (0.0,677.0),
        (0.0,686.75),
        (0.0,696.5),
        (0.0,706.25),
        (0.0,725.75),
        (0.0,735.5),
        (0.0,716.0),
        (9.75,716.0),
        (9.75,725.75),
        (9.75,735.5),
        (19.5,735.5),
        (19.5,725.75),
        (19.5,716.0),
        (19.5,706.25),
        (9.75,706.25),
        (39.0,706.25),
        (29.25,706.25),
        (29.25,716.0),
        (29.25,725.75),
        (29.25,735.5),
        (39.0,735.5),
        (39.0,725.75),
        (39.0,716.0),
        (48.75,716.0),
        (48.75,725.75),
        (48.75,735.5),
        (58.5,735.5),
        (58.5,725.75),
        (58.5,716.0),
        (58.5,706.25),
        (48.75,706.25),
        (48.75,696.5),
        (39.0,696.5),
        (29.25,696.5),
        (29.25,686.75),
        (39.0,686.75),
        (39.0,677.0),
        (48.75,677.0),
        (58.5,657.5),
        (48.75,667.25),
        (58.5,667.25),
        (68.25,657.5),
        (68.25,647.75),
        (78.0,647.75),
        (87.75,647.75),
        (97.5,647.75),
        (97.5,657.5),
        (97.5,667.25),
        (97.5,677.0),
        (97.5,686.75),
        (87.75,696.5),
        (78.0,706.25),
        (68.25,706.25),
        (68.25,696.5),
        (78.0,696.5),
        (78.0,686.75),
        (87.75,686.75),
        (87.75,677.0),
        (87.75,667.25),
        (87.75,657.5),
        (78.0,657.5),
        (78.0,667.25),
        (78.0,677.0),
        (68.25,677.0),
        (68.25,667.25),
        (68.25,686.75),
        (58.5,686.75),
        (58.5,696.5),
        (48.75,686.75),
        (58.5,677.0),
        (68.25,716.0),
        (68.25,725.75),
        (68.25,735.5),
        (78.0,735.5),
        (78.0,725.75),
        (78.0,716.0),
        (87.75,706.25),
        (87.75,716.0),
        (87.75,725.75),
        (87.75,735.5),
        (97.5,735.5),
        (97.5,725.75),
        (97.5,716.0),
        (97.5,706.25),
        (107.25,706.25),
        (107.25,716.0),
        (107.25,725.75),
        (107.25,735.5),
        (117.0,716.0),
        (117.0,716.0),
        (117.0,706.25),
        (117.0,725.75),
        (117.0,735.5),
        (126.75,735.5),
        (126.75,725.75),
        (126.75,716.0),
        (126.75,706.25),
        (136.5,706.25),
        (136.5,716.0),
        (136.5,725.75),
        (136.5,735.5),
        (146.25,735.5),
        (146.25,725.75),
        (146.25,716.0),
        (146.25,706.25),
        (156.0,706.25),
        (165.75,706.25),
        (175.5,706.25),
        (185.25,706.25),
        (195.0,706.25),
        (204.75,706.25),
        (214.5,706.25),
        (224.25,706.25),
        (234.0,706.25),
        (243.75,706.25),
        (253.5,706.25),
        (263.25,706.25),
        (273.0,706.25),
        (273.0,716.0),
        (273.0,725.75),
        (273.0,735.5),
        (263.25,735.5),
        (263.25,725.75),
        (263.25,716.0),
        (253.5,716.0),
        (253.5,725.75),
        (253.5,735.5),
        (243.75,735.5),
        (243.75,725.75),
        (243.75,716.0),
        (234.0,716.0),
        (234.0,725.75),
        (234.0,735.5),
        (224.25,735.5),
        (224.25,725.75),
        (224.25,716.0),
        (214.5,716.0),
        (214.5,725.75),
        (214.5,735.5),
        (204.75,735.5),
        (204.75,725.75),
        (204.75,716.0),
        (195.0,716.0),
        (195.0,725.75),
        (195.0,735.5),
        (185.25,735.5),
        (185.25,725.75),
        (185.25,716.0),
        (175.5,716.0),
        (175.5,725.75),
        (175.5,735.5),
        (165.75,735.5),
        (165.75,725.75),
        (165.75,716.0),
        (156.0,716.0),
        (156.0,725.75),
        (156.0,735.5),
        (146.25,696.5),
        (156.0,696.5),
        (165.75,696.5),
        (175.5,696.5),
        (185.25,696.5),
        (195.0,696.5),
        (204.75,696.5),
        (214.5,686.75),
        (204.75,686.75),
        (195.0,686.75),
        (185.25,686.75),
        (175.5,686.75),
        (165.75,686.75),
        (156.0,686.75),
        (146.25,686.75),
        (214.5,696.5),
        (214.5,677.0),
        (214.5,667.25),
        (214.5,657.5),
        (204.75,657.5),
        (204.75,647.75),
        (195.0,647.75),
        (185.25,647.75),
        (175.5,647.75),
        (175.5,657.5),
        (175.5,667.25),
        (165.75,667.25),
        (156.0,677.0),
        (165.75,677.0),
        (175.5,677.0),
        (185.25,677.0),
        (204.75,677.0),
        (195.0,677.0),
        (204.75,667.25),
        (195.0,667.25),
        (185.25,667.25),
        (185.25,657.5),
        (195.0,657.5)

    ]
    
    var Grid: [Node] = []
    
    init() {
        var y:CGFloat = 131.0
        
        for _ in 0...62 {
            var x: CGFloat = 0.0
            for _ in 0...40 {
                
                let doesContain = unwalkableCoords.contains { $0.0 == x && $0.1 == y }
                let duplicate = Grid.contains { $0.x == x && $0.y == y }
                
                if doesContain && !duplicate {
                    Grid.append(Node(x: x, y: y, Walkable: false))
                } else if !duplicate {
                    Grid.append(Node(x: x, y: y, Walkable: true))
                }
                x = x + 9.75
            }
            y = y + 9.75
        }
        
    }
    
    func buildMap() -> [Node] {
        var nodes: [Node] = []
        
        var y:CGFloat = 131.0
        
        for _ in 0...62 {
            var x: CGFloat = 0.0
            for _ in 0...40 {
                
                let doesContain = unwalkableCoords.contains { $0.0 == x && $0.1 == y }
                
                if doesContain {
                    nodes.append(Node(x: x, y: y, Walkable: false))
                } else {
                    nodes.append(Node(x: x, y: y, Walkable: true))
                }
                x = x + 9.75
            }
            y = y + 9.75
        }
        print(nodes)
        return nodes
    }
    
    
}


struct UnwalkableCoord: Equatable {
    let x: CGFloat
    let y: CGFloat
    
    static func ==(lhs: UnwalkableCoord, rhs: UnwalkableCoord) -> Bool {
        return lhs.x == rhs.x && lhs.y == rhs.y
    }
    
    
}







